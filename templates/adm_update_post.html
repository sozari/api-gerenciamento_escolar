<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Atualizar Administrador</title>

    <!-- Bootstrap 5 para o design bonito -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEJ1Q2g7zIG8I8zQyRVpaAYkhB0JZjz6u4AXmZ61iXY13Qz/4rQ7tq08Zvq1p" crossorigin="anonymous">

    <style>
        body {
            background-color: #f4f6f9;
            font-family: 'Arial', sans-serif;
        }

        .container {
            margin-top: 100px;
            background-color: #fff;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
            max-width: 500px;
            margin: auto;
        }

        h2 {
            text-align: center;
            margin-bottom: 30px;
            color: #007bff;
        }

        .btn-primary {
            background-color: #007bff;
            border: none;
        }

        .form-control {
            border-radius: 8px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .alert {
            display: none;
        }
    </style>
</head>
<body>

<div class="container">
    <h2>Atualizar Dados do Administrador</h2>
    <form id="updateForm">
        <!-- ID do Administrador -->
        <div class="form-group">
            <label for="idusuario">ID do Administrador</label>
            <input type="number" class="form-control" id="idusuario" placeholder="Digite o ID do administrador" required>
        </div>
        
        <!-- Nome -->
        <div class="form-group">
            <label for="nome">Nome</label>
            <input type="text" class="form-control" id="nome" placeholder="Digite o novo nome" required>
        </div>

        <!-- Email -->
        <div class="form-group">
            <label for="email">Email</label>
            <input type="email" class="form-control" id="email" placeholder="Digite o novo email" required>
        </div>

        <!-- Senha -->
        <div class="form-group">
            <label for="senha">Senha</label>
            <input type="password" class="form-control" id="senha" placeholder="Digite a nova senha" required>
        </div>

        <button type="submit" class="btn btn-primary w-100">Atualizar</button>
    </form>

    <!-- Mensagens de sucesso e erro -->
    <div id="message" class="alert alert-success mt-4" role="alert">
        Dados do administrador atualizados com sucesso!
    </div>
    <div id="errorMessage" class="alert alert-danger mt-4" role="alert">
        Algo deu errado, tente novamente.
    </div>
</div>

<!-- Scripts para o funcionamento -->
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz4fnFO9gybBqMKh4hP7rCwJdCmMQ/mt5kzHtYIKJztm12Nd8mX5ZhD2Vxk" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js" integrity="sha384-pzjw8f+ua7Kw1TIq0v8FqgXl3uaTxuA2cOuQbxLZCwSHZ3e/SyW9FylUWiG5Y67p" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

<script>
    // Quando o formulário for submetido
    document.getElementById('updateForm').addEventListener('submit', function(event) {
        event.preventDefault();

        // Coleta os dados do formulário
        const idusuario = document.getElementById('idusuario').value;
        const nome = document.getElementById('nome').value;
        const email = document.getElementById('email').value;
        const senha = document.getElementById('senha').value;

        // Tipo de usuário (administrador)
        const tipo_usuario = 'administrador';

        // Montando os dados JSON
        const dados = new FormData();
        dados.append('nome', nome);
        dados.append('email', email);
        dados.append('senha', senha);

        // Fazendo a requisição POST via Axios
        axios.post(`http://localhost:5000/adm_update_post/${idusuario}/${tipo_usuario}`, dados)
        .then(function (response) {
            document.getElementById('message').style.display = 'block'; // Exibe mensagem de sucesso
            document.getElementById('errorMessage').style.display = 'none'; // Esconde mensagem de erro
        })
        .catch(function (error) {
            document.getElementById('errorMessage').style.display = 'block'; // Exibe mensagem de erro
            document.getElementById('message').style.display = 'none'; // Esconde mensagem de sucesso
        });
    });
</script>

</body>
</html>
